<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="./style.css" rel="stylesheet" />
    <title>Document</title>
  </head>
  <body>
    <div class="ui-input-container">
      <h2>Word Count</h2>
      <label class="ui-form-input-container">
        <textarea class="ui-form-input" id="word-count-input"></textarea>
        <span class="form-input-label">Message</span>
      </label>
      <p aria-live="polite">
        <strong
          ><span id="word-count" style="color: #1a73e8"> 0 </span> words
        </strong>
        |
        <strong
          ><span id="character-count" style="color: #1a73e8"> 0 </span>
          characters </strong
        >.
      </p>
    </div>
  </body>

  <script>
    var countTarget = document.querySelector("#word-count-input");
    var wordCount = document.querySelector("#word-count");
    var characterCount = document.querySelector("#character-count");
    var count = function () {
      var characters = countTarget.value;
      var characterLength = characters.length;

      var words = characters.split(/[\n\r\s]+/g).filter(function (word) {
        return word.length > 0;
      });
      wordCount.innerHTML = words.length;
      characterCount.innerHTML = characterLength;
    };
    count();
    window.addEventListener(
      "input",
      function (event) {
        if (event.target.matches("#word-count-input")) {
          count();
        }
      },
      false
    );
  </script>
</html>
